dataset:
  path: "auto"
  name: "easy-vqa" 

model:
  peft_id: ybelkada/blip2-opt-2.7b-fp16-sharded # atomwalk12/blip2-aw12-easyvqa-text # ybelkada/blip2-opt-2.7b-fp16-sharded # 
  model_id: Salesforce/blip2-opt-2.7b
  # model_id: Salesforce/blip2-flan-t5-xl
  # model_id: Salesforce/blip2-flan-t5-xl-coco TODO see if inference takes as long
  classification: false
  continue: false
  revision: ~
  local_checkpoint_dir: "./lightning_checkpoints"
  target: "blip2"
  hyperparameters:
    max_epochs: 20
    warmup_epochs: 1.67
    check_val_every_n_epoch: 1
    gradient_clip_val: 1.0
    accumulate_grad_batches: 8
    lr: 0.0005
    batch_size: 9
    seed: 1337
    num_nodes: 1
    result_path: "./result"
    verbose: true
    betas: 
      - 0.9
      - 0.999
    weight_decay: 0.05
    max_length: 256

  generate_parameters: 
    max_new_tokens: 10

  peft:
    r: 16
    lora_alpha: 32
    lora_dropout: 0.05
    target_modules: all-linear

wandb:
  project: "BLIP2"
  name: "atomwalk12/blip2-aw12-easyvqa-text"
